<html>
    <head>

    </head>

    <body>
        
        <form method="post" action="/Voter_name">
        <label for="box">Enter of company:</label>
        <input name="box" type="text">
        <input id="search" type="submit">
        </form>
        {% if voter_data %}
        <table style="border-collapse: collapse; width: 100%;">
            <thead>

            <tr style="background-color: #f2f2f2;">
                <th style="border: 1px solid #ddd; padding: 8px;">Year</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Number of bond</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Total value of bonds (In rupees)</th>

            </tr>
            </thead>
            <tbody>

            {% for result in voter_data %}
            <tr>
                {% for item in result %}
                <td style="border: 1px solid #ddd; padding: 8px;">{{item}}</td>
                {% endfor %}
            </tr>  
            {% endfor %}
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <canvas id="myChart"></canvas>

            <script>
                var years = [];
                var numberOfBonds = [];

                {% for result in voter_data %}
                    years.push("{{ result[0] }}");
                    numberOfBonds.push("{{ result[2] }}");
                {% endfor %}

                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: years,
                        datasets: [{
                            label: 'Value of Bond',
                            data: numberOfBonds,
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
            <div>
                <canvas id="myChart2"></canvas>
            </div>

            <script>
                var years = [];
                var numberOfBonds = [];

                {% for result in voter_data %}
                    years.push("{{ result[0] }}");
                    numberOfBonds.push("{{ result[1] }}");
                {% endfor %}

                var ctx = document.getElementById('myChart2').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: years,
                        datasets: [{
                            label: 'Number of Bonds',
                            data: numberOfBonds,
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
            {% endif %}